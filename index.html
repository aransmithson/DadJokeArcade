<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DAD JOKE ARCADE</title>
    <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&family=Righteous&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --neon-pink: #ff006e;
            --neon-cyan: #00f5ff;
            --neon-yellow: #ffea00;
            --neon-green: #39ff14;
            --dark-bg: #0a0e27;
            --purple-deep: #1a0b2e;
        }

        body {
            font-family: 'Press Start 2P', cursive;
            background: var(--dark-bg);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
            overflow: hidden;
            position: relative;
        }

        /* Animated grid background */
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: 
                linear-gradient(0deg, transparent 24%, rgba(0, 245, 255, .15) 25%, rgba(0, 245, 255, .15) 26%, transparent 27%, transparent 74%, rgba(0, 245, 255, .15) 75%, rgba(0, 245, 255, .15) 76%, transparent 77%, transparent),
                linear-gradient(90deg, transparent 24%, rgba(0, 245, 255, .15) 25%, rgba(0, 245, 255, .15) 26%, transparent 27%, transparent 74%, rgba(0, 245, 255, .15) 75%, rgba(0, 245, 255, .15) 76%, transparent 77%, transparent);
            background-size: 50px 50px;
            animation: gridMove 20s linear infinite;
            opacity: 0.3;
            z-index: 0;
        }

        @keyframes gridMove {
            0% { transform: perspective(500px) rotateX(60deg) translateY(0); }
            100% { transform: perspective(500px) rotateX(60deg) translateY(50px); }
        }

        /* Floating particles */
        .particle {
            position: fixed;
            width: 4px;
            height: 4px;
            background: var(--neon-cyan);
            border-radius: 50%;
            box-shadow: 0 0 10px var(--neon-cyan);
            pointer-events: none;
            z-index: 1;
        }

        .container {
            position: relative;
            z-index: 10;
            background: rgba(26, 11, 46, 0.9);
            border: 4px solid var(--neon-pink);
            box-shadow: 
                0 0 20px var(--neon-pink),
                0 0 40px var(--neon-pink),
                inset 0 0 20px rgba(255, 0, 110, 0.2);
            padding: 40px;
            max-width: 800px;
            width: 100%;
            text-align: center;
            animation: containerPulse 2s ease-in-out infinite;
        }

        @keyframes containerPulse {
            0%, 100% { box-shadow: 0 0 20px var(--neon-pink), 0 0 40px var(--neon-pink), inset 0 0 20px rgba(255, 0, 110, 0.2); }
            50% { box-shadow: 0 0 30px var(--neon-pink), 0 0 60px var(--neon-pink), inset 0 0 30px rgba(255, 0, 110, 0.3); }
        }

        h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            background: linear-gradient(45deg, var(--neon-pink), var(--neon-cyan), var(--neon-yellow));
            background-size: 200% 200%;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            animation: gradientShift 3s ease infinite;
            text-shadow: 0 0 30px rgba(255, 0, 110, 0.5);
            letter-spacing: 3px;
        }

        @keyframes gradientShift {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        .score-display {
            color: var(--neon-yellow);
            font-size: 0.8em;
            margin-bottom: 30px;
            text-shadow: 0 0 10px var(--neon-yellow);
            animation: flicker 0.5s infinite alternate;
        }

        @keyframes flicker {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.8; }
        }

        #jokeContainer {
            perspective: 1000px;
            margin-bottom: 40px;
        }

        #joke {
            font-family: 'Righteous', cursive;
            font-size: 1.3em;
            line-height: 1.8;
            color: var(--neon-cyan);
            min-height: 150px;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 30px;
            background: rgba(0, 0, 0, 0.6);
            border: 3px solid var(--neon-cyan);
            box-shadow: 
                0 0 20px var(--neon-cyan),
                inset 0 0 20px rgba(0, 245, 255, 0.1);
            text-shadow: 0 0 10px var(--neon-cyan);
            transform-style: preserve-3d;
            animation: jokeFloat 4s ease-in-out infinite;
        }

        @keyframes jokeFloat {
            0%, 100% { transform: translateY(0) rotateX(0deg); }
            50% { transform: translateY(-10px) rotateX(2deg); }
        }

        #joke.loading {
            animation: loadingPulse 1s ease-in-out infinite;
        }

        @keyframes loadingPulse {
            0%, 100% { opacity: 1; border-color: var(--neon-cyan); }
            50% { opacity: 0.5; border-color: var(--neon-pink); }
        }

        #joke.joke-enter {
            animation: jokeEnter 0.8s cubic-bezier(0.68, -0.55, 0.265, 1.55);
        }

        @keyframes jokeEnter {
            0% {
                opacity: 0;
                transform: scale(0.5) rotateY(180deg);
            }
            100% {
                opacity: 1;
                transform: scale(1) rotateY(0deg);
            }
        }

        #newJokeBtn {
            position: relative;
            background: linear-gradient(135deg, var(--neon-pink), var(--purple-deep));
            color: white;
            border: 3px solid var(--neon-yellow);
            padding: 20px 60px;
            font-size: 1em;
            font-family: 'Press Start 2P', cursive;
            cursor: pointer;
            text-transform: uppercase;
            letter-spacing: 2px;
            box-shadow: 
                0 0 20px var(--neon-yellow),
                0 10px 30px rgba(0, 0, 0, 0.5);
            transition: all 0.3s ease;
            overflow: hidden;
        }

        #newJokeBtn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
            transition: left 0.5s;
        }

        #newJokeBtn:hover::before {
            left: 100%;
        }

        #newJokeBtn:hover {
            transform: translateY(-5px) scale(1.05);
            box-shadow: 
                0 0 30px var(--neon-yellow),
                0 15px 40px rgba(0, 0, 0, 0.7);
            border-color: var(--neon-green);
        }

        #newJokeBtn:active {
            transform: translateY(-2px) scale(1.02);
        }

        #newJokeBtn.clicked {
            animation: buttonSmash 0.3s ease;
        }

        @keyframes buttonSmash {
            0%, 100% { transform: scale(1); }
            25% { transform: scale(0.95); }
            75% { transform: scale(1.1); }
        }

        #newJokeBtn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            animation: disabledGlow 1s ease-in-out infinite;
        }

        @keyframes disabledGlow {
            0%, 100% { box-shadow: 0 0 10px var(--neon-yellow); }
            50% { box-shadow: 0 0 20px var(--neon-yellow); }
        }

        .explosion {
            position: fixed;
            pointer-events: none;
            z-index: 1000;
        }

        .explosion-particle {
            position: absolute;
            width: 10px;
            height: 10px;
            border-radius: 50%;
            animation: explode 1s ease-out forwards;
        }

        @keyframes explode {
            0% {
                opacity: 1;
                transform: translate(0, 0) scale(1);
            }
            100% {
                opacity: 0;
                transform: translate(var(--tx), var(--ty)) scale(0);
            }
        }

        .combo-text {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 4em;
            color: var(--neon-yellow);
            text-shadow: 0 0 20px var(--neon-yellow);
            pointer-events: none;
            z-index: 1001;
            animation: comboAppear 1s ease-out forwards;
        }

        @keyframes comboAppear {
            0% {
                opacity: 0;
                transform: translate(-50%, -50%) scale(0) rotate(-180deg);
            }
            50% {
                opacity: 1;
                transform: translate(-50%, -50%) scale(1.5) rotate(0deg);
            }
            100% {
                opacity: 0;
                transform: translate(-50%, -50%) scale(1) rotate(10deg);
            }
        }

        @media (max-width: 768px) {
            h1 {
                font-size: 1.5em;
            }

            #joke {
                font-size: 1em;
                padding: 20px;
                min-height: 120px;
            }

            #newJokeBtn {
                padding: 15px 40px;
                font-size: 0.8em;
            }

            .container {
                padding: 30px 20px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>DAD JOKE<br>ARCADE</h1>
        <div class="score-display">JOKES: <span id="jokeCount">0</span> | COMBO: <span id="combo">0</span></div>
        <div id="jokeContainer">
            <div id="joke">LOADING JOKE CARTRIDGE...</div>
        </div>
        <button id="newJokeBtn">MORE LAUGHS</button>
    </div>

    <script>
        const jokeElement = document.getElementById('joke');
        const button = document.getElementById('newJokeBtn');
        const jokeCountElement = document.getElementById('jokeCount');
        const comboElement = document.getElementById('combo');
        let jokeCount = 0;
        let combo = 0;
        let lastJokeTime = Date.now();

        // Create floating particles
        function createParticles() {
            for (let i = 0; i < 30; i++) {
                const particle = document.createElement('div');
                particle.className = 'particle';
                particle.style.left = Math.random() * 100 + 'vw';
                particle.style.top = Math.random() * 100 + 'vh';
                particle.style.animationDuration = (Math.random() * 3 + 2) + 's';
                particle.style.animationDelay = Math.random() * 2 + 's';
                particle.style.animation = `particleFloat ${Math.random() * 5 + 3}s linear infinite`;
                document.body.appendChild(particle);
            }
        }

        const style = document.createElement('style');
        style.textContent = `
            @keyframes particleFloat {
                0% { transform: translateY(100vh) translateX(0); opacity: 0; }
                10% { opacity: 1; }
                90% { opacity: 1; }
                100% { transform: translateY(-100vh) translateX(${Math.random() * 200 - 100}px); opacity: 0; }
            }
        `;
        document.head.appendChild(style);

        createParticles();

        // Explosion effect
        function createExplosion(x, y) {
            const explosion = document.createElement('div');
            explosion.className = 'explosion';
            explosion.style.left = x + 'px';
            explosion.style.top = y + 'px';
            document.body.appendChild(explosion);

            const colors = ['#ff006e', '#00f5ff', '#ffea00', '#39ff14'];
            
            for (let i = 0; i < 20; i++) {
                const particle = document.createElement('div');
                particle.className = 'explosion-particle';
                const angle = (Math.PI * 2 * i) / 20;
                const velocity = 100 + Math.random() * 100;
                particle.style.setProperty('--tx', Math.cos(angle) * velocity + 'px');
                particle.style.setProperty('--ty', Math.sin(angle) * velocity + 'px');
                particle.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                particle.style.boxShadow = `0 0 10px ${colors[Math.floor(Math.random() * colors.length)]}`;
                explosion.appendChild(particle);
            }

            setTimeout(() => explosion.remove(), 1000);
        }

        // Show combo text
        function showCombo(comboCount) {
            const comboText = document.createElement('div');
            comboText.className = 'combo-text';
            comboText.textContent = `${comboCount}x COMBO!`;
            document.body.appendChild(comboText);
            setTimeout(() => comboText.remove(), 1000);
        }

        async function fetchJoke() {
            button.disabled = true;
            button.classList.add('clicked');
            setTimeout(() => button.classList.remove('clicked'), 300);

            // Create explosion at button
            const rect = button.getBoundingClientRect();
            createExplosion(rect.left + rect.width / 2, rect.top + rect.height / 2);

            jokeElement.classList.remove('joke-enter');
            jokeElement.classList.add('loading');
            jokeElement.textContent = 'LOADING JOKE CARTRIDGE...';

            try {
                const response = await fetch('https://icanhazdadjoke.com/', {
                    headers: {
                        'Accept': 'application/json'
                    }
                });

                if (!response.ok) {
                    throw new Error('Failed to fetch joke');
                }

                const data = await response.json();
                
                // Update combo
                const now = Date.now();
                if (now - lastJokeTime < 3000) {
                    combo++;
                    if (combo > 1) {
                        showCombo(combo);
                    }
                } else {
                    combo = 1;
                }
                lastJokeTime = now;

                jokeCount++;
                jokeCountElement.textContent = jokeCount;
                comboElement.textContent = combo;

                setTimeout(() => {
                    jokeElement.classList.remove('loading');
                    jokeElement.classList.add('joke-enter');
                    jokeElement.textContent = data.joke;
                }, 300);

            } catch (error) {
                jokeElement.classList.remove('loading');
                jokeElement.textContent = 'ERROR: JOKE CARTRIDGE CORRUPTED. TRY AGAIN!';
                console.error('Error fetching joke:', error);
            } finally {
                setTimeout(() => {
                    button.disabled = false;
                }, 500);
            }
        }

        button.addEventListener('click', fetchJoke);

        // Load initial joke
        fetchJoke();

        // Easter egg: Konami code
        let konamiCode = [];
        const konamiSequence = ['ArrowUp', 'ArrowUp', 'ArrowDown', 'ArrowDown', 'ArrowLeft', 'ArrowRight', 'ArrowLeft', 'ArrowRight', 'b', 'a'];
        
        document.addEventListener('keydown', (e) => {
            konamiCode.push(e.key);
            konamiCode = konamiCode.slice(-10);
            
            if (konamiCode.join(',') === konamiSequence.join(',')) {
                document.body.style.animation = 'rainbowBackground 2s infinite';
                showCombo('âˆž');
                
                const rainbowStyle = document.createElement('style');
                rainbowStyle.textContent = `
                    @keyframes rainbowBackground {
                        0% { filter: hue-rotate(0deg); }
                        100% { filter: hue-rotate(360deg); }
                    }
                `;
                document.head.appendChild(rainbowStyle);
            }
        });
    </script>
</body>
</html>
